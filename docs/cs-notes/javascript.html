<!doctype html>
<html lang="zh-Hans" dir="ltr" class="docs-wrapper docs-doc-page docs-version-current plugin-docs plugin-id-default docs-doc-id-cs-notes/javascript">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.1">
<link rel="alternate" type="application/rss+xml" href="/blog/rss.xml" title="My Site RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/blog/atom.xml" title="My Site Atom Feed"><title data-rh="true">JavaScript | My Site</title><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://your-docusaurus-test-site.com/docs/cs-notes/javascript"><meta data-rh="true" name="docusaurus_locale" content="zh-Hans"><meta data-rh="true" name="docsearch:language" content="zh-Hans"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="JavaScript | My Site"><meta data-rh="true" name="description" content="1. js 的数据类型"><meta data-rh="true" property="og:description" content="1. js 的数据类型"><link data-rh="true" rel="icon" href="/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://your-docusaurus-test-site.com/docs/cs-notes/javascript"><link data-rh="true" rel="alternate" href="https://your-docusaurus-test-site.com/docs/cs-notes/javascript" hreflang="zh-Hans"><link data-rh="true" rel="alternate" href="https://your-docusaurus-test-site.com/docs/cs-notes/javascript" hreflang="x-default"><link rel="stylesheet" href="/assets/css/styles.984b0bbb.css">
<link rel="preload" href="/assets/js/runtime~main.341ed284.js" as="script">
<link rel="preload" href="/assets/js/main.ec9799ee.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div role="region"><a href="#" class="skipToContent_fXgn">跳到主要内容</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle clean-btn" type="button" tabindex="0"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/avatar.jpg" alt="my avatar" class="themedImage_ToTc themedImage--light_HNdA"><img src="/img/avatar.jpg" alt="my avatar" class="themedImage_ToTc themedImage--dark_i4oU"></div><b class="navbar__title text--truncate">xia0hj 的个人小站</b></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/docs/cs-notes">计算机学习笔记</a><a class="navbar__item navbar__link" href="/docs/intro">Tutorial</a><a class="navbar__item navbar__link" href="/blog">Blog</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/xia0hj" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="切换浅色/暗黑模式（当前为浅色模式）" aria-label="切换浅色/暗黑模式（当前为浅色模式）"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="searchBox_ZlJk"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div class="main-wrapper mainWrapper_z2l0 docsWrapper_BCFX"><button aria-label="回到顶部" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docPage__5DB"><aside class="theme-doc-sidebar-container docSidebarContainer_b6E3"><div class="sidebar_njMd"><nav class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/cs-notes/backend">后端相关</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/cs-notes/career">职业规划</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/cs-notes/css">CSS</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/cs-notes">index</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" href="/docs/cs-notes/javascript">JavaScript</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/cs-notes/network">计算机网络</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/cs-notes/react">React</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/cs-notes/toolchain">前端工具链</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/cs-notes/vue">Vue</a></li></ul></nav></div></aside><main class="docMainContainer_gTbr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="页面路径"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="主页面" class="breadcrumbs__link" href="/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_OVgt"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">JavaScript</span><meta itemprop="position" content="1"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">本页总览</button></div><div class="theme-doc-markdown markdown"><h1>JavaScript</h1><h2 class="anchor anchorWithStickyNavbar_LWe7" id="1-js-的数据类型">1. js 的数据类型<a class="hash-link" href="#1-js-的数据类型" title="标题的直接链接">​</a></h2><ol><li>基本数据类型有 String、Number、Boolean、Undefined、Null，还有 es6 新增的 Symbol，<strong>⬇️参考 2⬇️</strong>。</li><li>引用类型有对象、数组、函数 3 种。</li><li>区别是存储位置不同：<ol><li>基本数据类型直接存储在栈中的简单数据段，因为它占据空间小，而且会频繁使用。</li><li>引用类型保存在堆中，因为占据空间大，且大小不固定；在栈中保存了指针指向它在堆中的地址。</li></ol></li></ol><h2 class="anchor anchorWithStickyNavbar_LWe7" id="2-symbol">2. Symbol<a class="hash-link" href="#2-symbol" title="标题的直接链接">​</a></h2><ol><li>Symbol 表示一个独一无二的值，Symbol() 的参数只是描述，即使描述相同，Symbol 值也是不相等的；而且 Symbol 不是对象。</li><li>用途：<ol><li>定义对象的唯一属性名：如果要给对象新增一个属性，用 Symbol 当作属性名，可以保证不会属性名重复，避免原有属性被覆盖。</li><li>私有属性：用 Symbol 作为对象的属性名，且不对外暴露，这样使用者无法在外部创建出一个相同的 Symbol。</li></ol></li></ol><h2 class="anchor anchorWithStickyNavbar_LWe7" id="3-es6-的新特性">3. es6 的新特性<a class="hash-link" href="#3-es6-的新特性" title="标题的直接链接">​</a></h2><ol><li>const、let：<ol><li>为了解决 var 的 3 个问题：变量提升、重复声明、没有块级作用域只能用函数作用域。</li><li>const、let 存在暂时性死区，等到声明那一行代码出现后才能使用该变量，且不能重复声明</li><li>const、let 支持大括号包起来的块级作用域，var 只能借助函数包起来</li></ol></li><li>模板字符串：用反引号，里面可以用 $<!-- -->{<!-- --> <!-- -->}<!-- --> 放 js 表达式，会将返回值放到字符串中，并且会保留换行和空格</li><li>剩余参数：在参数前面加 3 个点表示，只能放在最后面，把剩余没有对应形参的参数放到一个数组中，<strong>⬇️参考 17⬇️</strong></li><li>Set 和 Map</li><li>箭头函数：普通函数的 this 是可变的，而箭头函数没有自己的 this，在箭头函数中使用 this 实际是上一层作用域中的 this，<strong>⬇️参考 6⬇️</strong>。</li><li>Generator 函数：支持暂停分段执行的函数，在 function 和函数名中间加一个星号，在函数体里面用 yield 将函数分段，调用该函数返回一个控制器，每次调用 next() 方法都会执行到 yield；可以用来将异步代码写成同步的形式，将异步后要执行的代码放在下一个分段，在异步任务中调用 next() 去执行下一段。</li><li>Promise：用来包装一个异步调用，目的是解决层层嵌套的异步回调函数，<strong>⬇️参考 22⬇️</strong></li><li>async / await：用来写异步代码的关键字，async 函数会将 return 值通过 Promise.resolve() 方法包装成 Promise 对象再返回；await 后跟一个 Promise 对象，那么就会阻塞后续的代码，直到 Promise resolve 之后再执行。</li><li>class：生成实例时必须用 new，实例会继承类中定义的属性，类之间也能通过 extends 关键字继承</li><li>模块化：<strong>⬇️参考 9⬇️</strong></li></ol><h2 class="anchor anchorWithStickyNavbar_LWe7" id="4-varletconst-之间的区别">4. var、let、const 之间的区别<a class="hash-link" href="#4-varletconst-之间的区别" title="标题的直接链接">​</a></h2><ol><li>块级作用域：var 声明的变量不支持大括号表示的块级作用域，只能用函数作用域代替，而 const 和 let 支持。</li><li>变量提升：var 声明的变量会提升到所有代码执行之前被声明，但不会赋值；let 和 const 存在暂时性死区，等到声明那一行代码出现后才能使用该变量。</li><li>重复声明：var 可以，const 和 let 不允许。</li><li>const 声明同时必须赋值，此后不能修改；const 对象不能修改引用地址，但可以修改对象中的值。</li></ol><h2 class="anchor anchorWithStickyNavbar_LWe7" id="5-原型原型链">5. 原型、原型链<a class="hash-link" href="#5-原型原型链" title="标题的直接链接">​</a></h2><ol><li>每个构造函数内部都有一个 prototype 属性值，它是一个对象，包含了一些共享的属性和方法，由构造函数创建的对象都会共享这些属性。</li><li>使用构造函数创建的对象，内部有 <!-- -->_<!-- -->_<!-- -->proto<!-- -->_<!-- -->_<!-- --> 指针指向构造函数的 prototype 来让我们访问原型，也可以使用 Object.getPrototypeOf() 方法来获取原型。</li><li>当我们访问一个对象的属性时，如果对象内部不存在这个属性，就会到它的原型对象上去寻找属性，原型对象又会有自己的原型，这样一直找下去就是原型链。</li><li>原型链的尽头一般是 Object.prototype，我们新建的对象可以用到它上面的 toString 等常用方法。</li><li>Object.prototype 的原型是 null，null 表示空对象，用 null 来表示尽头比较合理。</li></ol><h2 class="anchor anchorWithStickyNavbar_LWe7" id="6-js-this-指向">6. js this 指向<a class="hash-link" href="#6-js-this-指向" title="标题的直接链接">​</a></h2><ol><li>普通函数直接调用：指向 window。</li><li>普通函数作为对象方法调用：指向所属对象。</li><li>通过 new 来调用构造函数：指向创建的新对象</li><li>箭头函数：没有自己的 this，会使用外层的 this</li></ol><h2 class="anchor anchorWithStickyNavbar_LWe7" id="7-map-和-object-的区别">7. Map 和 Object 的区别<a class="hash-link" href="#7-map-和-object-的区别" title="标题的直接链接">​</a></h2><ol><li>Object 属性的键只能是字符串或者 Symbol；Map 的键可以是任意值。</li><li>Map 的键值对是有序的，按照插入顺序；而 Object 的属性在遍历时是无序的。</li><li>Object 有原型对象，有的键是默认存在的，可能会与自定义的键重复；Map 就不会有默认的键</li><li>Map.size 属性可以获取键值对的数量；而 Object 需要通过 Object.keys(obj) 方法来获取键的数组，从而得到键值对数量。</li></ol><h2 class="anchor anchorWithStickyNavbar_LWe7" id="8-遍历">8. 遍历<a class="hash-link" href="#8-遍历" title="标题的直接链接">​</a></h2><ol><li>for(let i=0)：最基础的遍历数组的方法。</li><li>forEach()：回调函数有 3 个参数：当前元素、下标、数组；无法使用 break 跳出循环，在回调中 return 相当于普通遍历的 continue，不能用于对象遍历。</li><li>for of：遍历数组的每个元素，不支持遍历对象，只能用于遍历实现了 Iterator 接口的数据类型</li><li>for in：遍历数组的下标，一般不会用来遍历数组；遍历对象的 key，但是会遍历原型上的 key，需要用 obj.hasOwnProperty() 来判断 key 是否属于当前对象</li><li>Object.keys()、values()、entries()：分别返回对象的 key 数组、属性值数组、包含键值对的二维数组</li></ol><h2 class="anchor anchorWithStickyNavbar_LWe7" id="9-js-模块化的-4-种方案">9. js 模块化的 4 种方案<a class="hash-link" href="#9-js-模块化的-4-种方案" title="标题的直接链接">​</a></h2><ol><li>CommonJS：require 引入模块，module.exports 暴露模块，它是同步引入模块的，所以不适用于浏览器端，因为浏览器请求是异步的。</li><li>AMD：这种方案会异步加载模块，require.js 实现了 AMD 规范。</li><li>CMD：也是异步加载的，与 AMD 的区别是：AMD 加载模块完成后就会执行，所有模块执行完毕后才会执行主要逻辑；而 CMD 加载后不会执行，在主要逻辑中遇到 require 语句才会执行模块。</li><li>ES6 Module：用 import 和 export 的形式来导入导出，与 CommonJS 的区别：CommonJS 加载模块后生成一个对象，然后从这个对象上取值和方法；es6 模块生成一个引用，运行时再根据这个引用去模块中取值</li></ol><h2 class="anchor anchorWithStickyNavbar_LWe7" id="10-如何判断-js-变量的类型">10. 如何判断 js 变量的类型<a class="hash-link" href="#10-如何判断-js-变量的类型" title="标题的直接链接">​</a></h2><ol><li>typeof</li><li>instanceof：用来检查右侧构造函数的原型对象是否出现在左侧实例对象的原型链上。</li><li>constructor：构造函数的原型对象上有 constructor 属性指向该函数，可访问对象的原型上的 constructor，但这种方法不能检查 null 和 undefined，它们没有原型。</li><li>Object.prototype.toString.call()：Object 的原型上的 toString() 方法，返回内部属性 <!-- -->[<!-- -->[<!-- -->class<!-- -->]<!-- -->]<!-- -->，一般是 <!-- -->[<!-- -->object Number<!-- -->]<!-- --> 这种样式的字符串。</li></ol><h2 class="anchor anchorWithStickyNavbar_LWe7" id="11--和--的区别">11. == 和 === 的区别<a class="hash-link" href="#11--和--的区别" title="标题的直接链接">​</a></h2><ol><li>== 比较基本类型，如果类型不同，会先强制转换后再比较。</li><li>=== 比较基本类型，先比较类型再比较值，如果类型不同就返回 false，不进行转换。</li><li>在比较引用类型时，== 和 === 都是比较地址。</li></ol><h2 class="anchor anchorWithStickyNavbar_LWe7" id="12-use-strict-严格模式">12. use strict 严格模式<a class="hash-link" href="#12-use-strict-严格模式" title="标题的直接链接">​</a></h2><ol><li>use strict 指的是严格运行模式，在这种模式对 js 的使用添加了一些限制，目的是消除代码中一些不合理的使用方式。</li><li>严格模式的限制：<ol><li>不允许使用未声明的变量；</li><li>不允许用 delete 关键字删除变量；</li><li>不允许变量重名；</li><li>禁止 this 关键字指向全局对象；</li><li>...</li></ol></li></ol><h2 class="anchor anchorWithStickyNavbar_LWe7" id="13-undefined-和-null-的区别">13. undefined 和 null 的区别<a class="hash-link" href="#13-undefined-和-null-的区别" title="标题的直接链接">​</a></h2><ol><li>undefined 表示未定义，变量声明后但没有赋值就是 undefined；null 表示空对象，一般是赋值给对象作为初始值。</li><li>用 typeof 判断，null = &#x27;object&#x27;，undefined = &#x27;undefined&#x27;。</li><li>转换成 Number 类型，null = 0，undefined = NaN。</li><li>null 是保留的关键字，而 undefined 不是。</li></ol><h2 class="anchor anchorWithStickyNavbar_LWe7" id="14-windowisnan-和-numberisnan-的区别">14. window.isNaN() 和 Number.isNaN() 的区别<a class="hash-link" href="#14-windowisnan-和-numberisnan-的区别" title="标题的直接链接">​</a></h2><ol><li>window.isNaN() 会尝试去将参数的类型转换成数字，如果不能被转换成数字都返回 true；所以，只是判断参数能否转换成数组，不会严格判断 NaN。</li><li>Number.isNaN() 会先判断参数的类型是不是 Number，如果不是 Number 都返回 false；NaN 表示不合法的数字，如 -1 开方。</li></ol><h2 class="anchor anchorWithStickyNavbar_LWe7" id="15-其他类型隐式转-boolean">15. 其他类型隐式转 Boolean<a class="hash-link" href="#15-其他类型隐式转-boolean" title="标题的直接链接">​</a></h2><ol><li>undefined</li><li>null</li><li>0</li><li>NaN</li><li>&quot;&quot;</li><li>其余都转换成 true</li></ol><h2 class="anchor anchorWithStickyNavbar_LWe7" id="16-new-操作符做了什么及其代码实现">16. new 操作符做了什么及其代码实现<a class="hash-link" href="#16-new-操作符做了什么及其代码实现" title="标题的直接链接">​</a></h2><ol><li>首先创建一个空对象，并将空对象的原型设为构造函数的 prototype。</li><li>让构造函数的 this 指向这个新对象，然后执行。</li><li>如果构造函数返回的是引用类型，就直接将它返回；否则返回新对象。</li></ol><div class="language-js codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-js codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">function</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">newOperation</span><span class="token punctuation" style="color:#393A34">(</span><span class="token parameter">constructor</span><span class="token parameter punctuation" style="color:#393A34">,</span><span class="token parameter"> </span><span class="token parameter spread operator" style="color:#393A34">...</span><span class="token parameter">args</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   </span><span class="token keyword control-flow" style="color:#00009f">if</span><span class="token punctuation" style="color:#393A34">(</span><span class="token keyword" style="color:#00009f">typeof</span><span class="token plain"> constructor </span><span class="token operator" style="color:#393A34">!==</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;function&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token keyword control-flow" style="color:#00009f">throw</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">new</span><span class="token plain"> </span><span class="token class-name">TypeError</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;constructor is not a function&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   </span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> obj </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token known-class-name class-name">Object</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">create</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">constructor</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">prototype</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">// obj.__proto__ = constructor.prototype</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   </span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> fnReturn </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> constructor</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">apply</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">obj</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> args</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   </span><span class="token keyword control-flow" style="color:#00009f">if</span><span class="token punctuation" style="color:#393A34">(</span><span class="token keyword" style="color:#00009f">typeof</span><span class="token plain"> fnReturn </span><span class="token operator" style="color:#393A34">===</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;object&#x27;</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">||</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">typeof</span><span class="token plain"> fnReturn </span><span class="token operator" style="color:#393A34">===</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;function&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token keyword control-flow" style="color:#00009f">return</span><span class="token plain"> fnReturn</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   </span><span class="token punctuation" style="color:#393A34">}</span><span class="token keyword control-flow" style="color:#00009f">else</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token keyword control-flow" style="color:#00009f">return</span><span class="token plain"> obj</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">// 自测</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">function</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">fn</span><span class="token punctuation" style="color:#393A34">(</span><span class="token parameter">msg</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">{</span><span class="token keyword" style="color:#00009f">this</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">msg</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">msg</span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> a </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">new</span><span class="token plain"> </span><span class="token class-name">fn</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;aaa&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> b </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">newOperation</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">fn</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;bbb&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="17-arguments-对象和剩余参数-args-的区别">17. arguments 对象和剩余参数 ...args 的区别<a class="hash-link" href="#17-arguments-对象和剩余参数-args-的区别" title="标题的直接链接">​</a></h2><ol><li>arguments 对象包含所有参数，剩余参数只能放在最后且只包含没有对应形参的参数</li><li>arguments 对象不是数组，不能直接使用数组的方法，需要这样才能用数组的方法 <code>Array.prototype.push.call(arguments, newVal)</code></li><li>剩余参数是真正的数组</li></ol><h2 class="anchor anchorWithStickyNavbar_LWe7" id="18-函数的-callapplybind-区别">18. 函数的 call，apply，bind 区别<a class="hash-link" href="#18-函数的-callapplybind-区别" title="标题的直接链接">​</a></h2><ol><li>它们都是用来重定义this对象的。</li><li>call 和 apply 都会执行该函数并将 this 指向第一个参数的对象，区别是apply 的剩余参数开始要放到一个数组中，而 call 的参数直接用逗号分隔</li><li>bind 的参数跟 call 一样用逗号分隔，但它返回的是调整了 this 指向的函数，并没有执行。</li></ol><h2 class="anchor anchorWithStickyNavbar_LWe7" id="19-闭包">19. 闭包<a class="hash-link" href="#19-闭包" title="标题的直接链接">​</a></h2><ol><li>闭包是指有权访问另一个函数作用域中的变量的函数，创建闭包的常见方式是在函数中创建另一个函数，通过这个函数访问到当前函数中的局部变量</li><li>用途：<ol><li>能在外部通过闭包函数去访问函数内部的变量，可以用这种方法来创建私有变量。</li><li>使已经运行结束的函数上下文中的变量继续保留在内存中，因为闭包函数保留了对这个变量的引用，所以不会被回收。</li></ol></li></ol><h2 class="anchor anchorWithStickyNavbar_LWe7" id="20-event-loop-事件循环">20. event loop 事件循环<a class="hash-link" href="#20-event-loop-事件循环" title="标题的直接链接">​</a></h2><ol><li>js 是单线程运行的，在运行时会将函数的上下文放入执行栈 call stack 中保证代码的有序执行；</li><li>event loop 流程：<ol><li>宏任务放入执行栈，执行同步代码</li><li>把微任务放入执行栈，直至微任务队列为空</li><li>DOM 渲染，这一步由浏览器判断是否需要，可能会不执行</li><li>回到第一步，把下一个宏任务放入执行栈，开启下一轮的宏任务</li></ol></li><li>宏任务包括：js 脚本代码、setTimeout、setInterval 等，所以当遇到 setTimeout 时，延迟之后会将其回调函数放入宏任务队列，最快也要等当前这一轮宏任务的同步代码执行完后才有机会去执行它</li><li>微任务包括：Promise 的回调函数、async/await 语法、fetch 等；当前宏任务产生的微任务，会在宏任务执行完毕后，下一轮宏任务开启前，全部按序执行直到清空微任务队列。</li></ol><h2 class="anchor anchorWithStickyNavbar_LWe7" id="21-内存泄漏">21. 内存泄漏<a class="hash-link" href="#21-内存泄漏" title="标题的直接链接">​</a></h2><ol><li>全局变量：设置了不必要的全局变量，且没有及时清理。</li><li>DOM 引用：引用了一个 DOM，假如这个元素被删除了，但如果我们一直保留了对这个元素的引用，它也是无法被回收一直留在内存里。</li><li>定时器：setInterval 和 setTimeout 不使用时忘记 clear，会导致它回调函数中依赖的变量都不能被回收。</li><li>事件监听：<code>DOM.addEventListener(&#x27;click&#x27;, callback)</code> 添加了事件监听，垃圾回收机制不好判断事件解除，回调函数没法回收，这时需要手动解除监听 <code>DOM.removeEventListener(callback)</code>。</li><li>console：<code>console.log(obj)</code> 打印的对象无法被回收。</li></ol><h2 class="anchor anchorWithStickyNavbar_LWe7" id="22-promise">22. Promise<a class="hash-link" href="#22-promise" title="标题的直接链接">​</a></h2><ol><li>它用来包装一个异步调用，目的是解决层层嵌套的异步回调函数</li><li>Promise 构造函数会接收一个函数作为参数，返回一个 Promise 实例。</li><li>Promise 有 3 种状态：pending、resolved 和 rejected，分别代表进行中、已成功、已失败；状态只能有 pending 变为其他 2 个，且不能再次更改。</li><li>我们可以在异步操作结束后，调用 resolve() 方法或者 reject() 方法来修改状态。</li><li>通过 Promise 原型上定义的 then 方法来为两个状态注册回调函数，这个回调函数会在本轮事件循环的末尾执行，属于微任务。</li></ol><h2 class="anchor anchorWithStickyNavbar_LWe7" id="23-防抖节流">23. 防抖、节流<a class="hash-link" href="#23-防抖节流" title="标题的直接链接">​</a></h2><ol><li>防抖：在事件触发 n 秒之后执行回调函数，如果在 n 秒之内再次触发事件，则重新计时。</li><li>节流：在规定的单位时间内，只能有一次触发事件的回调函数执行，如果事件被触发多次，只有一次能生效。</li></ol><div class="language-js codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-js codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">// 防抖</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">function</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">debounce</span><span class="token punctuation" style="color:#393A34">(</span><span class="token parameter">fn</span><span class="token parameter punctuation" style="color:#393A34">,</span><span class="token parameter"> delay</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">let</span><span class="token plain"> timeoutId </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword control-flow" style="color:#00009f">return</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">function</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">wrappedFn</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword control-flow" style="color:#00009f">if</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">timeoutId </span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token function" style="color:#d73a49">clearTimeout</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">timeoutId</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      timeoutId </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> self </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">this</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> args </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> arguments</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    timeoutId </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">setTimeout</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token arrow operator" style="color:#393A34">=&gt;</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token comment" style="color:#999988;font-style:italic">// 注意要取的是 wrappedFn 的 this 和参数</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      fn</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">apply</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">self</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> args</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> delay</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">// 节流</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">function</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">throttle</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token parameter">fn</span><span class="token parameter punctuation" style="color:#393A34">,</span><span class="token parameter"> interval</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">let</span><span class="token plain"> timeoutId </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">let</span><span class="token plain"> lastRun </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword control-flow" style="color:#00009f">return</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">function</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">wrappedFn</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword control-flow" style="color:#00009f">if</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">timeoutId </span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token keyword control-flow" style="color:#00009f">return</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> self </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">this</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> args </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> arguments</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> pastTimeSinceLastRun </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token known-class-name class-name">Date</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">now</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">-</span><span class="token plain"> lastRun</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">function</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">runFn</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      lastRun </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token known-class-name class-name">Date</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">now</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      timeoutId </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token comment" style="color:#999988;font-style:italic">// 注意要取的是 wrappedFn 的 this 和参数</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      fn</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">apply</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">self</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> args</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword control-flow" style="color:#00009f">if</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">pastTimeSinceLastRun </span><span class="token operator" style="color:#393A34">&gt;=</span><span class="token plain"> interval</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token function" style="color:#d73a49">runFn</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"> </span><span class="token keyword control-flow" style="color:#00009f">else</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      timeoutId </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token dom variable" style="color:#36acaa">window</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">setTimeout</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">runFn</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> interval</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> </span><span class="token function-variable function" style="color:#d73a49">say</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token parameter">str</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:#393A34">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token console class-name">console</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">log</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;I say: &#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> str</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> debounceSay </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">debounce</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">say</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">3000</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> throttleSay </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">throttle</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">say</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">3000</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">// &lt;button onclick=&quot;throttleSay(&#x27;节流&#x27;)&quot;&gt;节流按钮&lt;/button&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">// &lt;button onclick=&quot;debounceSay(&#x27;防抖&#x27;)&quot;&gt;防抖按钮&lt;/button&gt;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="24-函数柯里化">24. 函数柯里化<a class="hash-link" href="#24-函数柯里化" title="标题的直接链接">​</a></h2><ol><li>将使用多个参数的函数转换成一系列只有一个参数的函数</li><li>在多次调用一个函数，并且大部分参数相同的情况下使用</li></ol><div class="language-js codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-js codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">function</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">curry</span><span class="token punctuation" style="color:#393A34">(</span><span class="token parameter">fn</span><span class="token parameter punctuation" style="color:#393A34">,</span><span class="token parameter"> savedArgs </span><span class="token parameter operator" style="color:#393A34">=</span><span class="token parameter"> </span><span class="token parameter punctuation" style="color:#393A34">[</span><span class="token parameter punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword control-flow" style="color:#00009f">return</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">function</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">// 获取先前已保存的参数数组</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> curArgs </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> savedArgs</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">slice</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">// 将当前参数放入数组</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword control-flow" style="color:#00009f">for</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token keyword" style="color:#00009f">let</span><span class="token plain"> i </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"> i </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain"> arguments</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">length</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"> i</span><span class="token operator" style="color:#393A34">++</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      curArgs</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">push</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">arguments</span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">i</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">// 如果参数已足够，则执行函数</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword control-flow" style="color:#00009f">if</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">curArgs</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">length</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">&gt;=</span><span class="token plain"> fn</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">length</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token keyword control-flow" style="color:#00009f">return</span><span class="token plain"> fn</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">apply</span><span class="token punctuation" style="color:#393A34">(</span><span class="token keyword" style="color:#00009f">this</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> curArgs</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"> </span><span class="token keyword control-flow" style="color:#00009f">else</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token comment" style="color:#999988;font-style:italic">// 参数不足，则将当前参数继续保存</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token keyword control-flow" style="color:#00009f">return</span><span class="token plain"> curry</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">call</span><span class="token punctuation" style="color:#393A34">(</span><span class="token keyword" style="color:#00009f">this</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> fn</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> curArgs</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> </span><span class="token function-variable function" style="color:#d73a49">output</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token parameter">v1</span><span class="token parameter punctuation" style="color:#393A34">,</span><span class="token parameter"> v2</span><span class="token parameter punctuation" style="color:#393A34">,</span><span class="token parameter"> v3</span><span class="token punctuation" style="color:#393A34">)</span><span class="token arrow operator" style="color:#393A34">=&gt;</span><span class="token punctuation" style="color:#393A34">{</span><span class="token console class-name">console</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">log</span><span class="token punctuation" style="color:#393A34">(</span><span class="token template-string template-punctuation string" style="color:#e3116c">`</span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:#393A34">${</span><span class="token template-string interpolation">v1</span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:#393A34">}</span><span class="token template-string string" style="color:#e3116c">,</span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:#393A34">${</span><span class="token template-string interpolation">v2</span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:#393A34">}</span><span class="token template-string string" style="color:#e3116c">,</span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:#393A34">${</span><span class="token template-string interpolation">v3</span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:#393A34">}</span><span class="token template-string template-punctuation string" style="color:#e3116c">`</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> curryFn </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">curry</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">output</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">curryFn</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">2</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">3</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="25-数组扁平化">25. 数组扁平化<a class="hash-link" href="#25-数组扁平化" title="标题的直接链接">​</a></h2><div class="language-js codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-js codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">function</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">flattenArray</span><span class="token punctuation" style="color:#393A34">(</span><span class="token parameter">array</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword control-flow" style="color:#00009f">if</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token operator" style="color:#393A34">!</span><span class="token known-class-name class-name">Array</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">isArray</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">array</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token keyword control-flow" style="color:#00009f">return</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> result </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> array</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">reduce</span><span class="token punctuation" style="color:#393A34">(</span><span class="token keyword" style="color:#00009f">function</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token parameter">total</span><span class="token parameter punctuation" style="color:#393A34">,</span><span class="token parameter"> cur</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword control-flow" style="color:#00009f">if</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token known-class-name class-name">Array</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">isArray</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">cur</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token keyword control-flow" style="color:#00009f">return</span><span class="token plain"> total</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">concat</span><span class="token punctuation" style="color:#393A34">(</span><span class="token function" style="color:#d73a49">flattenArray</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">cur</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"> </span><span class="token keyword control-flow" style="color:#00009f">else</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token keyword control-flow" style="color:#00009f">return</span><span class="token plain"> total</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">concat</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">cur</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword control-flow" style="color:#00009f">return</span><span class="token plain"> result </span><span class="token operator" style="color:#393A34">?</span><span class="token plain"> result </span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="26-v8-引擎垃圾回收">26. V8 引擎垃圾回收<a class="hash-link" href="#26-v8-引擎垃圾回收" title="标题的直接链接">​</a></h2><ol><li>v8 的垃圾回收是分代回收的，将对象分为新生代和老年代，存放于不同的空间。</li><li>在新生代空间中被划分为 From 和 To 两个区域，To 空间一般是闲置的，当From 空间满了就会执行垃圾回收</li><li>进行回收时首先会检查 From 空间中的存活对象，存活对象判断满足晋升到老年代的条件，满足条件的对象会复制到老年代空间中，不满足条件的对象则复制到 To 空间；然后 From 和 To 空间交换，原来的 To 空间变为 From 空间。</li><li>晋升为老年代有两个条件：当对象从 From 空间复制到 To 空间时，假如该对象已经经历过一次回收，并且此时 To 空间使用已经超过了 25%，那么就会将该对象晋升为老年代</li><li>晋升条件设置为 To 空间 25% 的原因是，回收结束后两个空间会交换，如果To空间剩余内存太小，变为From会影响后续内存分配。</li><li>老年代的存活对象多且存活时间长，不适合使用新生代的那种回收方法，老年年用的是标记清除法和标记压缩法。</li><li>标记清除法会先标记存活的对象，然后清除掉没标记的对象，由于标记清除后会造成很多的内存碎片，不便于后面的内存分配。所以了解决内存碎片的问题引入了标记压缩法。</li><li>标记压缩法也是先标记，然后将存活对象都挪到一边，最后清理边界外的内存。</li><li>由于标记压缩法需要移动对象，执行速度比标记清除要慢，所以V8主要使用标记清除法，当内存空间不足时采用标记压缩法。</li></ol><h2 class="anchor anchorWithStickyNavbar_LWe7" id="27-图片懒加载的实现">27. 图片懒加载的实现<a class="hash-link" href="#27-图片懒加载的实现" title="标题的直接链接">​</a></h2><ol><li>先将图片的 src 设为默认的图片，判断图片如果出现在视图中才将 src 设为原本的图片</li><li>判断图片是否在视图中的两种方法：<ol><li>监听图片的第一个可滚动父元素和 window 对象的滚动相关事件（scroll、resize、touchmove 等），回调函数中通过 getBoundingClientRect() 方法获取元素离视图的顶部和左侧的距离，再与视图宽高 innerWidth、innerHeight 作比较，如果距离在宽高之内说明出现在视图中了</li><li>IntersectionObserver：创建一个 IntersectionObserver 对象去 observe 图片元素，假如元素的可见性发生变化就会执行回调函数</li></ol></li></ol><h2 class="anchor anchorWithStickyNavbar_LWe7" id="28-歌词解析器">28. 歌词解析器<a class="hash-link" href="#28-歌词解析器" title="标题的直接链接">​</a></h2><ol><li>正则表达式解析标签，记录 曲名、歌手 等信息</li><li>正则解析时间标签，将每一句歌词和对应的时间保存到数组中</li><li>播放时计算当前时间离下一句歌词的时间差，通过 setTimeout() 在对应时间执行该行歌词的回调函数，然后递归继续播放</li><li>暂停时先记录以下暂停的时间戳，下次播放从暂停处开始</li></ol><h2 class="anchor anchorWithStickyNavbar_LWe7" id="29-封装-axios">29. 封装 Axios<a class="hash-link" href="#29-封装-axios" title="标题的直接链接">​</a></h2><p>统一上下文请求路径、统一超时时间、统一错误处理</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="30-typescript">30. TypeScript<a class="hash-link" href="#30-typescript" title="标题的直接链接">​</a></h2><p>给动态类型的 js 添加了一套静态类型系统，可以在编译期间检查出类型的错误，保证类型安全，编译后还是转换成 js 的。</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="31-前端中的设计模式">31. 前端中的设计模式<a class="hash-link" href="#31-前端中的设计模式" title="标题的直接链接">​</a></h2><p><a href="https://blog.csdn.net/zhangjing0320/article/details/112472548" target="_blank" rel="noopener noreferrer">看 CSDN 文章</a></p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="32-类数组-todo">32. 类数组 TODO<a class="hash-link" href="#32-类数组-todo" title="标题的直接链接">​</a></h2><h2 class="anchor anchorWithStickyNavbar_LWe7" id="33-async--await-todo">33. async / await TODO<a class="hash-link" href="#33-async--await-todo" title="标题的直接链接">​</a></h2><h2 class="anchor anchorWithStickyNavbar_LWe7" id="34-settimeout-的-this-指向">34. setTimeout 的 this 指向<a class="hash-link" href="#34-settimeout-的-this-指向" title="标题的直接链接">​</a></h2><ol><li>setTimeout 和 setInterval 的非箭头函数会自动指向 window</li></ol></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/cs-notes/javascript.md" target="_blank" rel="noreferrer noopener" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>编辑此页</a></div><div class="col lastUpdated_vwxv"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="文档分页导航"><a class="pagination-nav__link pagination-nav__link--prev" href="/docs/cs-notes"><div class="pagination-nav__sublabel">上一页</div><div class="pagination-nav__label">index</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/docs/cs-notes/network"><div class="pagination-nav__sublabel">下一页</div><div class="pagination-nav__label">计算机网络</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#1-js-的数据类型" class="table-of-contents__link toc-highlight">1. js 的数据类型</a></li><li><a href="#2-symbol" class="table-of-contents__link toc-highlight">2. Symbol</a></li><li><a href="#3-es6-的新特性" class="table-of-contents__link toc-highlight">3. es6 的新特性</a></li><li><a href="#4-varletconst-之间的区别" class="table-of-contents__link toc-highlight">4. var、let、const 之间的区别</a></li><li><a href="#5-原型原型链" class="table-of-contents__link toc-highlight">5. 原型、原型链</a></li><li><a href="#6-js-this-指向" class="table-of-contents__link toc-highlight">6. js this 指向</a></li><li><a href="#7-map-和-object-的区别" class="table-of-contents__link toc-highlight">7. Map 和 Object 的区别</a></li><li><a href="#8-遍历" class="table-of-contents__link toc-highlight">8. 遍历</a></li><li><a href="#9-js-模块化的-4-种方案" class="table-of-contents__link toc-highlight">9. js 模块化的 4 种方案</a></li><li><a href="#10-如何判断-js-变量的类型" class="table-of-contents__link toc-highlight">10. 如何判断 js 变量的类型</a></li><li><a href="#11--和--的区别" class="table-of-contents__link toc-highlight">11. == 和 === 的区别</a></li><li><a href="#12-use-strict-严格模式" class="table-of-contents__link toc-highlight">12. use strict 严格模式</a></li><li><a href="#13-undefined-和-null-的区别" class="table-of-contents__link toc-highlight">13. undefined 和 null 的区别</a></li><li><a href="#14-windowisnan-和-numberisnan-的区别" class="table-of-contents__link toc-highlight">14. window.isNaN() 和 Number.isNaN() 的区别</a></li><li><a href="#15-其他类型隐式转-boolean" class="table-of-contents__link toc-highlight">15. 其他类型隐式转 Boolean</a></li><li><a href="#16-new-操作符做了什么及其代码实现" class="table-of-contents__link toc-highlight">16. new 操作符做了什么及其代码实现</a></li><li><a href="#17-arguments-对象和剩余参数-args-的区别" class="table-of-contents__link toc-highlight">17. arguments 对象和剩余参数 ...args 的区别</a></li><li><a href="#18-函数的-callapplybind-区别" class="table-of-contents__link toc-highlight">18. 函数的 call，apply，bind 区别</a></li><li><a href="#19-闭包" class="table-of-contents__link toc-highlight">19. 闭包</a></li><li><a href="#20-event-loop-事件循环" class="table-of-contents__link toc-highlight">20. event loop 事件循环</a></li><li><a href="#21-内存泄漏" class="table-of-contents__link toc-highlight">21. 内存泄漏</a></li><li><a href="#22-promise" class="table-of-contents__link toc-highlight">22. Promise</a></li><li><a href="#23-防抖节流" class="table-of-contents__link toc-highlight">23. 防抖、节流</a></li><li><a href="#24-函数柯里化" class="table-of-contents__link toc-highlight">24. 函数柯里化</a></li><li><a href="#25-数组扁平化" class="table-of-contents__link toc-highlight">25. 数组扁平化</a></li><li><a href="#26-v8-引擎垃圾回收" class="table-of-contents__link toc-highlight">26. V8 引擎垃圾回收</a></li><li><a href="#27-图片懒加载的实现" class="table-of-contents__link toc-highlight">27. 图片懒加载的实现</a></li><li><a href="#28-歌词解析器" class="table-of-contents__link toc-highlight">28. 歌词解析器</a></li><li><a href="#29-封装-axios" class="table-of-contents__link toc-highlight">29. 封装 Axios</a></li><li><a href="#30-typescript" class="table-of-contents__link toc-highlight">30. TypeScript</a></li><li><a href="#31-前端中的设计模式" class="table-of-contents__link toc-highlight">31. 前端中的设计模式</a></li><li><a href="#32-类数组-todo" class="table-of-contents__link toc-highlight">32. 类数组 TODO</a></li><li><a href="#33-async--await-todo" class="table-of-contents__link toc-highlight">33. async / await TODO</a></li><li><a href="#34-settimeout-的-this-指向" class="table-of-contents__link toc-highlight">34. setTimeout 的 this 指向</a></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Docs</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/docs/intro">Tutorial</a></li></ul></div><div class="col footer__col"><div class="footer__title">Community</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://stackoverflow.com/questions/tagged/docusaurus" target="_blank" rel="noopener noreferrer" class="footer__link-item">Stack Overflow<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://discordapp.com/invite/docusaurus" target="_blank" rel="noopener noreferrer" class="footer__link-item">Discord<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://twitter.com/docusaurus" target="_blank" rel="noopener noreferrer" class="footer__link-item">Twitter<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">More</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/blog">Blog</a></li><li class="footer__item"><a href="https://github.com/facebook/docusaurus" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2022 My Project, Inc. Built with Docusaurus.</div></div></div></footer></div>
<script src="/assets/js/runtime~main.341ed284.js"></script>
<script src="/assets/js/main.ec9799ee.js"></script>
</body>
</html>